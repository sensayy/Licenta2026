# Malware Classification Diploma Project

This repository contains the source code and data for a **final‚Äëyear diploma project** in the field of malware analysis and machine learning. The goal is to explore different approaches for **classifying malware families** based on file‚Äëlevel features extracted from a public dataset (`Microsoft BIG 2015 Malware Classification Dataset`) and to compare classical ML models with a simple convolutional neural network.

---

## üîç What the Project Does

- **Parses raw malware files** (`.bytes`) to remove address information.
- **Extracts byte‚Äëfrequency features**, file sizes and labels into CSVs.
- **Converts byte streams to grayscale images** for CNN training.
- **Trains and evaluates**:
  - Random Forest
  - XGBoost (with optional hyper‚Äëparameter tuning)
  - A lightweight PyTorch CNN
- **Generates visualisations** to understand dataset distribution and model behaviour.
- Includes utility scripts for dataset inspection and preprocessing.

---

## üóÇÔ∏è How the Files Work Together

| Script / File | Purpose |
|---------------|---------|
| `HexCount.py` | Remove memory‚Äëaddress column from `.bytes` files. |
| `bytescsv.py` | Count hex‚Äëbyte occurrences and merge with sizes/labels. |
| `filesize.py` / `filesize_graph.py` | Extract and visualise file sizes. |
| `data_graph.py` | Plot class distribution (count & pie). |
| `hex_img.py` | Generate 256‚Äëpixel‚Äëwide grayscale images from parsed bytes. |
| `img_rename.py`, `test.py` | Helpers for cleaning/validating images & labels. |
| `Initial_Training.py` | Baseline models + feature‚Äëimportance plots. |
| `HyperParameterXG.py` | Randomised search for XGBoost hyper‚Äëparameters. |
| `Image_Training.py` | Train CNN on image representations. |
| `CNN_Report.py` | Load saved CNN, compute classification report & confusion matrix. |

Data files such as `trainLabels.csv`, `labels_sizes.csv`, and `ByteCount_Size_Labels.csv` are either provided or generated by the preprocessing scripts. Processed data are stored in subfolders like `parsed_bytes/`, `images/` and `images_resized/`.

---

## üìä Graphs & Visualisations

Several scripts produce charts used in analysis or the diploma report:

- **Class distribution** (`data_graph.py`): bar chart + pie chart showing how many samples per malware family.
- **File size analysis** (`filesize_graph.py`): min/mean/max of `.asm` and `.bytes` sizes per family (log scale).
- **Model diagnostics** (`Initial_Training.py`, `CNN_Report.py`): feature‚Äëimportance bars, accuracy plots, confusion matrices.
- The generated figures are saved as PNGs in the repository root.


## üõ†Ô∏è Maintainers & Contributions

- **Maintainer:** Abel Mihai-Alexandru  
- This repository was created for academic purposes; feel free to fork, experiment, and learn.
- Contributions are welcome via pull requests. If you add major functionality (e.g. new model, data pipeline), please update this README accordingly.

For formal contribution guidelines, see `CONTRIBUTING.md` (if added) or the project wiki.

---

## üìÑ Other Notes

- This is **not** production‚Äëgrade code; it was written for experimentation and demonstration.
- No license file is included‚Äîadd one if you plan to share the code publicly.
- Keep generated data (CSVs, images) under version control only if they are small; otherwise use `backup/` to store intermediate artifacts.
